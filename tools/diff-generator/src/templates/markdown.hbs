{{! Default template for token diff reports }}

## Tokens Changed ({{totalTokens result}})

{{#if options.oldTokenBranch}}**Original Branch:** `{{options.oldTokenBranch}}`{{/if}}
{{#if options.oldTokenVersion}}**Original Version:** `{{options.oldTokenVersion}}`{{/if}}
{{#if options.newTokenBranch}}**New Branch:** `{{options.newTokenBranch}}`{{/if}}
{{#if options.newTokenVersion}}**New Version:** `{{options.newTokenVersion}}`{{/if}}

{{#if (hasKeys result.renamed)}}
<details{{detailsOpen renamed.length}}><summary><strong>Renamed ({{renamed.length}})</strong></summary>
  
{{#each renamed~}}
- `{{oldName}}` -> `{{name}}`
{{/each}}

</details>
{{/if}}
{{#if (hasKeys result.deprecated)}}
<details{{detailsOpen deprecated.length}}><summary><strong>Newly Deprecated ({{deprecated.length}})</strong></summary>
  
{{#each deprecated~}}
- `{{name}}`{{#if comment}}: {{comment}}{{/if}}
{{/each}}

</details>
{{/if}}
{{#if (hasKeys result.reverted)}}
<details{{detailsOpen reverted.length}}><summary><strong>Newly "Un-deprecated" ({{reverted.length}})</strong></summary>
  
{{#each reverted~}}
- `{{name}}`
{{/each}}

</details>
{{/if}}

{{#if (hasKeys result.added)}}
<details{{detailsOpen added.length}}><summary><strong>Added ({{added.length}})</strong></summary>
  
{{#each added~}}
- `{{name}}`
{{/each}}

</details>
{{/if}}
{{#if (hasKeys result.deleted)}}
<details{{detailsOpen deleted.length}}><summary><strong>Deleted ({{deleted.length}})</strong></summary>
  
{{#each deleted~}}
- `{{name}}`
{{/each}}

</details>
{{/if}}
{{#if (totalUpdatedTokens result.updated)}}
  
### Updated ({{totalUpdatedTokens result.updated}})
  
{{#if (hasKeys result.updated.renamed)}}
<details{{detailsOpen updated.renamed.length}}><summary><strong>Renamed Properties ({{updated.renamed.length}})</strong></summary>
  
{{#each updated.renamed~}}
- `{{name}}`
{{#each change}}
	- `{{cleanPath path}}`: {{#if (ifEquals type "schema")}}`{{lastPathPart originalValue}}` -> `{{lastPathPart newValue}}`{{else}}`{{originalValue}}` -> `{{newValue}}`{{/if}}
{{/each}}
{{/each}}

</details>
{{/if}}

{{#if (hasKeys result.updated.added)}}
<details{{detailsOpen updated.added.length}}><summary><strong>Added Properties ({{updated.added.length}})</strong></summary>
  
{{#each updated.added~}}
- `{{name}}`
{{#each changes}}
	- `{{cleanPath path}}`: `{{newValue}}`
{{/each}}
{{/each}}

</details>
{{/if}}

{{#if (hasKeys result.updated.deleted)}}
<details{{detailsOpen updated.deleted.length}}><summary><strong>Deleted Properties ({{updated.deleted.length}})</strong></summary>
  
{{#each updated.deleted~}}
- `{{name}}`
{{#each changes}}
	- `{{cleanPath path}}`: {{#if (ifEquals type "schema")}}`{{lastPathPart originalValue}}` -> `{{lastPathPart newValue}}`{{else}}{{originalValue}} -> `{{newValue}}`{{/if}}
{{/each}}
{{/each}}

</details>
{{/if}}

{{#if (hasKeys result.updated.updated)}}
<details{{detailsOpen updated.updated.length}}><summary><strong>Updated Properties ({{updated.updated.length}})</strong></summary>
  
{{#each updated.updated~}}
- `{{name}}`
{{#each changes}}
	- `{{cleanPath path}}`: {{#if (ifEquals type "schema")}}`{{lastPathPart originalValue}}` -> `{{lastPathPart newValue}}`{{else}}`{{originalValue}}` -> `{{newValue}}`{{/if}}
{{/each}}
{{/each}}

</details>
{{/if}}
{{/if}}